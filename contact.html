<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us</title>
    <link rel="stylesheet" href="./css/styles.css">
</head>
<body>

    <script>
        // Load the header.html content into the header section
        window.addEventListener('DOMContentLoaded', function() {
            fetch('header.html')
                .then(response => response.text())
                .then(data => {
                    document.body.insertAdjacentHTML('afterbegin', data);  // Insert the header at the top of the body
                    var header = document.querySelector('header');  // Select the header element
                    var mainWrapper = document.querySelector('.main-wrapper');  // Select the main content wrapper
                    
                    if (header && mainWrapper) {  // Safely check if both header and mainWrapper exist
                        var headerHeight = header.offsetHeight;  // Get the height of the header
                        mainWrapper.style.marginTop = headerHeight + 'px';  // Add top margin to push content below the header
                    }
                }).catch(error => {
                    console.error('Error loading header:', error);
                });
        });
    </script>

    <div class="container-form">
        <main class="main-wrapper">
            <div class="form-container">
                <h2>Contact Us</h2>
                <form id="fs-frm" name="simple-contact-form" accept-charset="utf-8" action="https://formspree.io/f/{id-cambiar}" method="post">
                    <fieldset id="fs-frm-inputs">
                        <label for="full-name">Full Name</label>
                        <input type="text" name="name" id="full-name" placeholder="Name / Lastname" required>
                        
                        <label for="email-address">Email</label>
                        <input type="email" name="_replyto" id="email-address" placeholder="email@domain.com" required>
                        
                        <label for="message">Add your comments.</label>
                        <textarea rows="5" name="message" id="message" placeholder="Leave us your comments...." required></textarea>
                        
                        <input type="hidden" name="_subject" id="email-subject" value="Contacto">
                    </fieldset>
                    <input type="submit" value="Send">
                </form>
            </div>
        </main>
    </div>

    <script>
        // Dynamically load the footer and initialize modals
        fetch('footer.html')
            .then(response => response.text())
            .then(data => {
                document.body.insertAdjacentHTML('beforeend', data);
                // Initialize modal functionality after footer is loaded
                initializeModals();
            });
    
        // Function to handle opening and closing of modals
        function initializeModals() {
            // Open modal and prevent default anchor behavior
            function openModal(event, modalId) {
                event.preventDefault(); // Prevents the page from reloading
                const modal = document.getElementById(modalId);
                modal.style.display = 'flex';
            }
    
            // Close modal
            function closeModal(modalId) {
                const modal = document.getElementById(modalId);
                modal.style.display = 'none';
            }
    
            // Close modal if user clicks outside the content
            window.onclick = function(event) {
                const modals = document.querySelectorAll('.modal');
                modals.forEach(modal => {
                    if (event.target == modal) {
                        modal.style.display = 'none';
                    }
                });
            }
    
            // Attach event listeners for all modal links
            document.querySelectorAll('.footer-links a').forEach(link => {
                link.addEventListener('click', (event) => {
                    const modalId = event.target.getAttribute('onclick').match(/'(.*)'/)[1];
                    openModal(event, modalId);
                });
            });
    
            // Attach event listeners for close buttons in modals
            document.querySelectorAll('.modal .close').forEach(closeButton => {
                const modalId = closeButton.getAttribute('onclick').match(/'(.*)'/)[1];
                closeButton.addEventListener('click', () => {
                    closeModal(modalId);
                });
            });
        }
    </script>

    <!-- Contact Form Submission Script -->
    <script src="./js/contact-scripts.js"></script>
</body>
</html>
